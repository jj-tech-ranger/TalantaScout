// CONSOLIDATED Player Dashboard JavaScript - Works for ALL tiers
// Single file replaces: player_basic_dashboard.js, player_bronze_dashboard.js, player_silver_dashboard.js, player_gold_dashboard.js, player_platinum_dashboard.js

const PACKAGE_HIERARCHY={basic:0,bronze:1,silver:2,gold:3,platinum:4};const PACKAGE_FEATURES={basic:{videoUpload:!1,messaging:0,analytics:!1},bronze:{videoUpload:!1,messaging:5,analytics:!1},silver:{videoUpload:!0,messaging:-1,analytics:'basic'},gold:{videoUpload:!0,messaging:-1,analytics:'advanced',aiInsights:!0},platinum:{videoUpload:!0,messaging:-1,analytics:'advanced',aiInsights:!0,personalAgent:!0}};function initPackageFeatures(){const e=localStorage.getItem('userPackage')||'basic',t=PACKAGE_HIERARCHY[e];document.body.setAttribute('data-package',e);const a=document.querySelector('.package-badge');a&&(a.textContent=e.toUpperCase()+' PACKAGE',a.className=`package-badge ${e}`);document.querySelectorAll('[data-min-package]').forEach(a=>{const s=a.getAttribute('data-min-package'),n=PACKAGE_HIERARCHY[s];t>=n?(a.style.display='',a.classList.remove('package-locked')):(a.style.display='none',a.classList.add('package-locked'))});document.querySelectorAll('[data-max-package]').forEach(a=>{const s=a.getAttribute('data-max-package'),n=PACKAGE_HIERARCHY[s];t<=n?a.style.display='':a.style.display='none'});const s=PACKAGE_FEATURES[e];s.videoUpload||document.querySelectorAll('.video-upload-btn').forEach(e=>{e.disabled=!0,e.title='Upgrade to Silver+',e.addEventListener('click',e=>{e.preventDefault(),showUpgradeModal('video upload')})}),s.messaging>=0&&updateMessageCounter(s.messaging)}function showUpgradeModal(e){const t=document.getElementById('upgradeModal'),a=document.getElementById('upgradeFeatureText');a&&(a.textContent=`Upgrade to unlock ${e}`),t&&(t.style.display='block')}function updateMessageCounter(e){const t=document.querySelector('.message-counter');if(t&&e>=0){const a=parseInt(localStorage.getItem('messagesSent')||'0');t.textContent=`${a}/${e} messages used`}}document.addEventListener('DOMContentLoaded',initPackageFeatures);document.getElementById('logoutBtn')?.addEventListener('click',()=>{localStorage.clear(),window.location.href='../../index.html'});document.getElementById('logoutDropdown')?.addEventListener('click',()=>{localStorage.clear(),window.location.href='../../index.html'});
